<style>
	.edit-report-btn {
		position: absolute;
		right: 20px;
		top: 20px;
	}
	[type="radio"]:not(:checked) + label, [type="radio"]:checked + label{
		padding-left: 8px;
	}
	[type="radio"] + label:before, [type="radio"] + label:after{
		top:20px;
		width: 20px;
    height: 20px;
	}
	[type="radio"]:checked + label:after,
[type="radio"].with-gap:checked + label:before,
[type="radio"].with-gap:checked + label:after {
  border: 2px solid #be2126;
}
[type="radio"]:not(:checked) + label:before, [type="radio"]:not(:checked) + label:after {
    border: 2px solid #be2126;
}

[type="radio"]:checked + label:after,
[type="radio"].with-gap:checked + label:after {
  background-color: #be2126;
  z-index: 0;
}
.imo-report{
	margin-top:20px;
}
/* #put-date{
	display: none;
} */
	.dropzone {
	border: 2px dashed #5c6bc0;
	margin: 0 20px 0 20px;
	
}
.modal{
	max-height: unset;
}
.modal .modal-footer {
    /* border-radius: 0 0 2px 2px; */
    background-color: #ffffff;
		height: 20px;}
.close-button{
	margin-top:4px;
	color: #a0a4a6;
}
#close-preview-file.modal,#remove-modal.modal {
		width: auto !important;
		right: auto !important;
		left: 50% !important;
		transform: translateX(-50%) !important;
	}

.remove-upload.btn-floating{
	position: absolute;
	top: -14px;
	right:-12px;
	z-index: 20;
	width: 30px;
  height: 30px;
  line-height: 30px;
	cursor: pointer !important;
}
.remove-upload.btn-floating i{
	  font-size: 20px;
    line-height: 30px;
}
.dropzone .dz-preview .dz-details{
	padding: 3em 1em;
	color:#000000;
	background: rgba(255,255,255, 0.2) !important;
}
.percent-upload{
	display: none;
}
	.close-uplod-btn{
		background-color: red;
    color: #fff;
    font-size: 30px;
	}
</style>
<div id="upload-file" class="modal">
	<div class="modal-footer" style=" padding-top: 1px; padding-right: 1px; ">
		<a class=" modal-action waves-effect waves-green right close-button" style="margin-top:0px" ng-click="report.uploadDocument.closeModal('upload-file')">
			<i class="material-icons close-uplod-btn">clear</i>
		</a>
	</div>
	<div class="modal-content">


		<div class="row">
			<div id="dropzone">
				<form ng-dropzone dropzone="dropzone" dropzone-config="report.uploadDocument" enctype="multipart/form-data" class="dropzone needsclick dz-clickable">
					<div class="fallback">
						<input name="file" type="file" multiple />
					</div>
					<div id="dropzone-message" class="center"></div>
					<div class="percent-upload">
						<div class=" percentage center" style="font-weight: 400;font-size: 48px; margin-top:30px;">
						</div>
						<div class="dz-progress progress">
							<div class="indeterminate dz-upload" data-dz-uploadprogress>
							</div>
						</div>
					</div>
				</form>
			</div>
			<div class="center" style="margin-top: 10px">
				<button id="upload_doc" class="btn">{{'submit'|translate}}</button>
				<div id="delete_doc" class="btn red">{{'cancel_mayus'|translate}}</div>
			</div>
		</div>
	</div>
</div>
<div id="cancel-modal" class="modal">
	<div class="modal-content">
		<h4 style="color: #2196F3; font-weight:100; padding-bottom: 10px;">
			<i class="material-icons left">info_outline</i>Cancel Update</h4>
		<p>Are you sure want to cancel the update?</p>
	</div>
	<div class="modal-footer">
		<a class=" modal-action modal-close waves-effect waves-green btn-flat">{{'cancel_mayus' | translate}}</a>
		<a ng-click="report.cancel()" class=" modal-action modal-close waves-effect waves-green btn-flat">{{'yes'|translate}}</a>
	</div>
</div>
<div id="cancel-report-modal" class="modal">
	<div class="modal-content">
		<h4 style="color: #be2126; font-weight:100; padding-bottom: 10px;">
			<i class="material-icons left">info_outline</i>Cancel Report</h4>
		<p>Are you sure want to cancel the report?</p>
	</div>
	<div class="modal-footer">
		<a class=" modal-action modal-close waves-effect waves-green btn-flat">{{'cancel_mayus' | translate}}</a>
		<a ng-click="report.cancel()" class=" modal-action modal-close waves-effect waves-green btn-flat">{{'yes'|translate}}</a>
	</div>
</div>
<div id="save-modal" class="modal">
	<div class="modal-content">
		<h4 style="color: #be2126; font-weight:100; padding-bottom: 10px;">
			<i class="material-icons left">done</i>{{'save_project' | translate}}</h4>
		
		<p>Do you want save this report?</p>
	</div>
	<div class="modal-footer">
		<a class=" modal-action modal-close waves-effect waves-green btn-flat">{{'cancel_mayus' | translate}}</a>
		<a ng-click="report.saveImoReport(false)" class=" modal-action modal-close waves-effect waves-green btn-flat">{{'yes' | translate}}</a>
	</div>
</div>
<div class="row" ng-if="report.definition.project_status !== 'new'">
	<div class="col s12 m9 l9">
		<div style="padding:20px 20px 20px 0;">

			<!--  -->
			<a class="waves-effect waves-light btn" ng-href="#/immap/reporting/report/">
				<i class="material-icons left">keyboard_return</i> Back to Report
			</a>

			<!-- <span class="right" style="padding-top:8px;">{{'last_updated' | translate}}: {{ report.updatedAt }}</span> -->

		</div>
	</div>
	<div class="col s12 m3 l3">
		<div style="padding:20px 20px 20px 0;">
	
			<!--  -->
			<button class="btn waves-effect waves-light hide-on-small-only right" title="Edit" ng-show="	report.imo_report.report_status === 'complete'"
			 ng-click="report.saveImoReport(false)">
				<i class="material-icons left">create</i>{{'edit_report' | translate}}
			</button>
	
			<!-- <span class="right" style="padding-top:8px;">{{'last_updated' | translate}}: {{ report.updatedAt }}</span> -->
	
		</div>
	</div>
</div>
<div class="imo-report">
	<div class="row">
		<div class="col s3">
			<div style=" position: relative;">
				<label class="btn-floating" style="background-color: #A72824;border-radius:10%" for="put-date"><i class=" material-icons right"> date_range</i></label>
				<!-- <input id="put-date" ngm-date type="text" style="border-bottom: 1px #be2126 solid" ng-model="report.imo_report.month" format="dd mmm, yyyy"
				 select-years="15" min="{{ report.datepicker.maxDate }}" on-close="report.datepicker.onClose( report.imo_report )" /> -->
				<input id="put-date" ngm-date type="text" style="border-bottom: 1px #be2126 solid; display: none" ng-model="report.imo_report.report_month" format="dd mmm, yyyy"
				 select-years="15" max="{{ report.datepicker.maxDate }}" on-close="report.datepicker.onClose( report.imo_report )" />
				<!-- <a ng-if="report.imo_report.month" class="btn" style="left:40px;position:absolute;pointer-events:none;background-color: #A72824">
					Report for {{report.imo_report.month_date| date:'MMMM'}}
				</a> -->
				<a ng-if="report.imo_report.report_month" class="btn" style="left:40px;position:absolute;pointer-events:none;background-color: #A72824">
					Report for {{report.imo_report.report_date| date:'MMMM'}}
				</a>
				<!-- <a ng-if="!report.imo_report.month" class="btn" style="left:40px;position:absolute;pointer-events:none;background-color: #A72824">
						Please Select Month
				</a> -->
				<a ng-if="!report.imo_report.report_month" class="btn" style="left:40px;position:absolute;pointer-events:none;background-color: #A72824">
						Please Select Month
				</a>
			</div>								
		</div>
	</div>
</div>
	<!-- </div>
</div> -->
<fieldset ng-if="openFormReport">

<div class="imo-report">
	<div>
		<h2 class="col s12 report-title" style="margin-top: 20px; margin-bottom:40px; padding-bottom: 20px; font-size: 3.0rem; font-weight:300; color: #959595; border-bottom: 3px #A72824 solid;padding-left: 0px;">
			Supported Partner & Products
		</h2>
		<p style="font-weight: bold;font-size: 16px">
			*Each Reporting Line is made for ONE partner, ONE area of activity and ONE type of product you delivered for this partner.
			If you delivered different types of product to a same partner or if your supported one partner in different areas of activity,
			add a line by reporting the same partner but with the other type of product or area of activity.*
		</p>
	</div>
	
	<!-- bind html -->
	<div class="row">
		<div class="col s12 m12 l12">
			<div>
						
							<div class="slide-animate" ng-include="report.templatesUrl + report.partnerUrl"></div>
						
			</div>
		</div>
	</div>
</div>

<div class="imo-report">
	<h2 class="col s12 report-title" style="margin-top: 20px; padding-bottom: 20px;margin-bottom:40px; font-size: 3.0rem; font-weight:300; color: #959595; border-bottom: 3px #A72824 solid;padding-left: 0px;">
		Planned Activity for Next Month
	</h2>
	
	<!-- bind html -->
	<div class="row">
		<div class="col s12 m12 l12">
			<div>
				
					<div class="slide-animate" ng-include="report.templatesUrl + report.plannedUrl"></div>
				
			</div>
		</div>
	</div>
</div>

<!-- rate -->
<div class="imo-report">
	<h2 class="col s12 report-title" style="margin-top: 20px; padding-bottom: 20px;margin-bottom:40px; font-size: 3.0rem; font-weight:300; color: #959595; border-bottom: 3px #A72824 solid;padding-left: 0px;">
		How Was This Month?
	</h2>
	<h5 style="padding-left: 15px;"> How did You Feel At Work This Month?*</h5>
	<div style="margin:10px 0 10px 0; height: 50px;">
		<div style="display: inline;margin-left:10px;margin-right:10px" ng-repeat="rate in report.rating">
			<input name="rating" 
			type="radio"  
			class="filled-in" 
			id="{{rate}}" 
			value="{{rate}}"
			ng-checked="report.imo_report.rating === rate"  
			ng-click="report.setRate(rate)"
			ng-disabled="report.imo_report.report_submit"/>
			<label for="{{rate}}" style="color: #000000; font-weight: 500;">{{rate}}</label>	
		</div>
	</div>
</div>

<!-- note -->
<div class="imo-report" style="padding-left: 15px;">
	<h5> Did You Face Any Specific Challenge? (Notes For Future Workflow Improvements)</h5>
	<div class="row">
		<div class="input-field col s12 m12 l12">
										<textarea 
											id="ngm-project-notes" 
											type="text" 
											class="validate materialize-textarea"
											name="notes"
											ng-model="report.imo_report.notes"
											ng-disabled="report.imo_report.report_submit"
											>
										</textarea>
										<label for="ngm-project-notes"></label>
									</div>
	</div>
</div>
<!-- submit button -->
<div align="center" style="margin-bottom: 10px;" ng-if="!report.imo_report.report_submit">
	<button ng-if="report.imo_report.report_status !== 'complete'"
		ng-disabled="report.reportFormComplete(report.imo_report)"
		data-target="save-modal" 
		class="waves-effect waves-light btn modal-trigger btn" >
		<i class="material-icons left">send</i>SAVE
	</button>
	<button ng-if="report.imo_report.report_status === 'todo'" data-target="cancel-modal" class="waves-effect waves-light btn modal-trigger grey lighten-1">
		<i class="material-icons left">clear</i>CANCEL
	</button>
	<button ng-if="report.imo_report.report_status === 'new'" data-target="cancel-report-modal" class="waves-effect waves-light btn modal-trigger grey lighten-1">
		<i class="material-icons left">clear</i>CANCEL
	</button>
</div>
<div align="center">	
	<button ng-if="!report.imo_report.report_submit" class="btn" ng-click="report.saveImoReport(true)" style="background-color: #be2126" ng-disabled="report.reportFormComplete(report.imo_report)">
		<i class="material-icons left">done_all</i>SUBMIT
	</button>
</div>
</fieldset>
<script type="text/javascript">

	// modals
	setTimeout(function () {
		$('.modal-trigger').leanModal();
	}, 200);

</script>