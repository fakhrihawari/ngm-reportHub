<style>
	.collection.with-header .collection-item.avatar {
		padding-left: 51 !important;
	}
	.editable-wrap{
		width: 100%;
	}
</style>

<div style="padding-left: 20px;">
	<table class="bordered responsive-table" style="margin-bottom:10px;" ng-show="project.report.locations[ $locationIndex ].beneficiaries.length">
		<tr style="font-weight: 600">
			<td>Area of Activity</td>
			<td>Narative of Activity</td>
			<td>Products</td>
			<td>Colaboration With</td>
			<td>Number of Products</td>
			<td ng-if="project.definition.project_status !== 'complete'">{{'edit' | translate}}</td>
		</tr>
		<tr ng-repeat-start="beneficiary in project.report.locations[ $locationIndex ].beneficiaries track by $index" ng-init="$beneficiaryIndex=$index">
			<!-- Start here -->
			<td>
				<span e-form="rowform" e-name="area_activity" editable-select="beneficiary.activity_type_id" e-placeholder="{{'select'|translate}}"
				e-ng-options="a_t.id as a_t.name for a_t in project.areaActivity" e-ng-change="ngmClusterBeneficiaries.setBeneficiariesFormTargets(
				project.lists, $locationIndex, beneficiary, $index )">
				</span>

			</td>
				<td>
					<span e-form="rowform" e-name="area_activity" editable-select="beneficiary.activity_type_id" e-placeholder="{{'select'|translate}}"
					 e-ng-options="a_t.id as a_t.name for a_t in project.areaActivity" e-ng-change="ngmClusterBeneficiaries.setBeneficiariesFormTargets(
								project.lists, $locationIndex, beneficiary, $index )">
					</span>
				
				</td>
				<td>
					<span e-form="rowform" e-name="area_activity" editable-select="beneficiary.activity_type_id" e-placeholder="{{'select'|translate}}"
					 e-ng-options="a_t.id as a_t.name for a_t in project.products" e-ng-change="ngmClusterBeneficiaries.setBeneficiariesFormTargets(
													project.lists, $locationIndex, beneficiary, $index )">
					</span>
				
				</td>
				<td>
					<span e-form="rowform" e-name="area_activity" editable-select="beneficiary.activity_type_id" e-placeholder="{{'select'|translate}}"
					 e-ng-options="a_t.id as a_t.name for a_t in project.collab" e-ng-change="ngmClusterBeneficiaries.setBeneficiariesFormTargets(
													project.lists, $locationIndex, beneficiary, $index )">
					</span>
				
				</td>
				<td>
					<span e-form="rowform" e-name="households" editable-number="beneficiary.households" e-min="0" e-ng-change="project.updateInput( $locationIndex, $beneficiaryIndex, 'households', $data ); ngmCbBeneficiaries.setSadd( beneficiary );"
					 >
						{{ beneficiary.households }}
					</span>
				</td>
			<!-- End here -->
			<td style="white-space: nowrap" ng-show="project.report.report_status !== 'complete'">
				<!-- form -->
				<form editable-form name="rowform" onshow="project.keydownSaveForm()" ng-show="rowform.$visible" onbeforesave="project.validateBeneficiariesDetailsForm( rowform, false, false )"
				 class="form-buttons form-inline" shown="inserted == beneficiary">
					<button type="submit" ng-if="rowform.$visible" ng-disabled="!ngmClusterBeneficiaries.beneficiaryFormComplete( project.definition, project.report.locations ) || 
                                  !ngmClusterTrainings.trainingFormComplete( project.report.locations ) || fsac_assessment_disabled"
					 class="btn btn-small waves-effect waves-light save" title="Save">
						<i class="material-icons">save</i>
					</button>
					<div type="button" ng-if="rowform.$visible" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel(); project.cancelEdit( $locationIndex, $beneficiaryIndex );project.activePrevReportButton()"
					 class="btn btn-small blue lighten-1 waves-effect waves-light" title="Cancel Edit">
						<i class="material-icons">clear</i>
					</div>
				</form>
				<div class="buttons" ng-if="!rowform.$visible">
					<button class="btn btn-small waves-effect waves-light" ng-click="rowform.$show();ngmClusterHelperNgWash.init_material_select();"
					 title="Edit">
						<i class="material-icons">create</i>
					</button>
					<button class="btn btn-small red lighten-2 waves-effect waves-light" ng-click="project.removeBeneficiaryModal( $locationIndex, $beneficiaryIndex );project.activePrevReportButton()"
					 title="Remove" ng-disabled="!ngmClusterBeneficiaries.beneficiaryFormComplete( project.definition, project.report.locations ) || 
                              !ngmClusterTrainings.trainingFormComplete( project.report.locations  )">
						<i class="material-icons">delete</i>
					</button>
				</div>
			</td>
		</tr>
		<tr ng-repeat-end></tr>
	</table>

	<!-- default -->
	<button  style="background-color: #be2126" class="btn" ng-if="project.definition.admin0pcode !== 'ET' || project.definition.cluster_id !== 'esnfi'" ng-show="project.definition.project_status !== 'complete' && project.report.report_status !== 'complete'"
	 ng-click="project.addBeneficiary( $locationIndex ); project.activePrevReportButton()" ng-disabled="addBeneficiaryDisable">
		<i class="material-icons left">add</i>Add Partner

	</button>

</div>

<br/>
<script>
	// init
	setTimeout(function () { $('.input-field select').material_select(); }, 400);
</script>